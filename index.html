<html>
<head>
    <link
            rel="stylesheet"
            href="https://bootswatch.com/5/united/bootstrap.min.css"
    />
    <link rel="stylesheet" href="./package/table-selector.css"/>
</head>
<body>
<table class="table table-sm table-bordered table-strriped" id="table">
    <thead>
    <tr>
        <th data-header="a">A</th>
        <th data-header="b">B</th>
        <th data-header="c">C</th>
        <th data-header="d">D</th>
        <th data-header="e">E</th>
        <th data-header="f">F</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td><input type="text" name="a"></td>
        <td>
            <select name="b">
                <option value="">Select ...</option>
                <option value="1"> One</option>
                <option value="2"> Two</option>
            </select>
        </td>
        <td><input type="checkbox" name="c"></td>
        <td>

            <input type="radio" name="d" value="Male">Male
            <input type="radio" name="d" value="Female">Female

        </td>
        <td><input type="text" name="e"></td>
        <td><input type="text" name="f"></td>
    </tr>
    </tbody>
</table>

<div class="summary">
    Average: <span id="average"></span>
    Count: <span id="count"></span>
    Sum: <span id="sum"></span>
    Has-Value: <span id="hasValue"></span>
</div>
<table class="table table-sm table-bordered table-strriped" style="margin-top: 10px;">
    <thead>
    <tr>
        <th data-header="a">A</th>
        <th data-header="b">B</th>
        <th data-header="c">C</th>
        <th data-header="d">D</th>
        <th data-header="e">E</th>
        <th data-header="f">F</th>
        <th data-header="f">G</th>
        <th data-header="f">H</th>
        <th data-header="f">I</th>
    </tr>
    </thead>
    <tbody>
    <tr id="template_row">
        <td>Apple</td>
        <td>Ball</td>
        <td>Cat</td>
        <td>Dog</td>
        <td>Elephant</td>
        <td>Fish</td>
        <td>Goat</td>
        <td>1</td>
        <td>2</td>
    </tr>
    </tbody>
</table>

</body>
<script src="script.js"></script>

<script type="module">
    import useTableSelector from "./package/table-selector.js";
    let tableSelector = null;
    window.addEventListener("DOMContentLoaded", (ev) => {
        tableSelector = useTableSelector({handleCopy: true, handleDelete: true});
        let elem = document.getElementById("template_row");
        for(let i=0; i<100; i++){
            elem.parentNode.appendChild(elem.cloneNode(true));
        }

        document.addEventListener('table-summary', (e) => {
            document.getElementById("average").innerText = e.detail.average;
            document.getElementById("count").innerText = e.detail.count;
            document.getElementById("sum").innerText = e.detail.sum;
            document.getElementById("hasValue").innerText = e.detail.hasValue;
        })
    })
</script>
</html>